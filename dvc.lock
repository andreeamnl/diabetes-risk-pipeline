schema: '2.0'
stages:
  preprocess:
    cmd: python src/preprocess.py
    deps:
    - path: data/raw/diabetes.csv
      hash: md5
      md5: f2906818eda8fcfc8f8416557ab1e6df
      size: 23873
    - path: src/preprocess.py
      hash: md5
      md5: 63ad13db921a86c74dbaadc3754b06a4
      size: 496
    params:
      params.yaml:
        preprocess:
          input: data/raw/diabetes.csv
          output: data/processed/data.csv
    outs:
    - path: data/processed/data.csv
      hash: md5
      md5: 08bc0d96ad21f64c26fab30c789abbb6
      size: 23193
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed/data.csv
      hash: md5
      md5: 08bc0d96ad21f64c26fab30c789abbb6
      size: 23193
    - path: src/train.py
      hash: md5
      md5: e891b8e2b682020a542cbdce61877d6b
      size: 2503
    params:
      params.yaml:
        train:
          data: data/processed/data.csv
          models: models/model.pkl
          random_state: 42
          n_estimators: 100
          max_depth: 5
        tuning:
          n_estimators:
          - 50
          - 100
          - 150
          max_depth:
          - 5
          - 10
          - 15
          min_samples_split:
          - 2
          - 5
          min_samples_leaf:
          - 1
          - 2
          max_features:
          - sqrt
          - log2
    outs:
    - path: models/model.pkl
      hash: md5
      md5: 5fe16d5d806597be141276e89025f7c3
      size: 388661
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/processed/data.csv
      hash: md5
      md5: 08bc0d96ad21f64c26fab30c789abbb6
      size: 23193
    - path: models/model.pkl
      hash: md5
      md5: 5fe16d5d806597be141276e89025f7c3
      size: 388661
    - path: src/evaluate.py
      hash: md5
      md5: 696c99931595445e6fe25ec935a188ee
      size: 3153
    params:
      params.yaml:
        evaluate:
          model: models/model.pkl
          test_data: data/processed/data.csv
          metrics: metrics
    outs:
    - path: metrics/accuracy.json
      hash: md5
      md5: 2ced5795b9ca240089fae09ef508af87
      size: 36
    - path: metrics/classification_report.json
      hash: md5
      md5: d36826f98338d969bac5711556594b2a
      size: 608
    - path: metrics/confusion_matrix.json
      hash: md5
      md5: 931549dd08f01fb6a1f7958942dc46bb
      size: 96
    - path: metrics/scores.json
      hash: md5
      md5: cd184796a09bdd7a2405d5557ecae08e
      size: 137
